<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Registration Form</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #e0e6ff 0%, #f0f2ff 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            display: flex;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            width: 100%;
            max-width: 1200px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .promo-section {
            flex: 1;
            background: linear-gradient(135deg, #6b46c1 0%, #834dd1 100%);
            padding: 40px;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            min-height: 600px;
        }

        .promo-section h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .hospital-name {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 30px;
        }

        .department-name {
            font-size: 1.8rem;
            margin-top: 20px;
        }

        .form-section {
            flex: 1;
            padding: 40px;
            background: white;
        }

        .form-section h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #333;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #666;
            font-size: 0.9rem;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #6b46c1;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            background: #6b46c1;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background: #553c9a;
        }

        #barcodeContainer {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .promo-section {
                min-height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="promo-section">
            <h1 class="hospital-name">ENAM MEDICAL COLLEGE & HOSPITAL</h1>
            <div class="department-name">Department of Radiation Oncology</div>
        </div>
        
        <div class="form-section">
            <h2>Patient Registration</h2>
            <form id="stickerForm">
                <div class="input-group">
                    <label for="radiationId">Radiation Oncology ID</label>
                    <input type="text" id="radiationId" name="radiationId" placeholder="Enter RT Number" required>
                </div>

                <div class="input-group">
                    <label for="patientId">Patient ID</label>
                    <input type="text" id="patientId" name="patientId" placeholder="Enter Patient ID" required>
                </div>

                <div class="input-group">
                    <label for="patientName">Patient Name</label>
                    <input type="text" id="patientName" name="patientName" placeholder="Enter Patient Name" required>
                </div>

                <div class="input-group">
                    <label for="diagnosis">Diagnosis</label>
                    <input type="text" id="diagnosis" name="diagnosis" placeholder="Enter Patient Diagnosis" required>
                </div>

                <div class="input-group">
                    <label for="age">Age</label>
                    <input type="number" id="age" name="age" placeholder="Years" required>
                </div>

                <div class="input-group">
                    <label for="sex">Sex</label>
                    <select id="sex" name="sex" required>
                        <option value="Please select">Please Select</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="phone">Phone</label>
                    <input type="tel" id="phone" name="phone" placeholder="Enter Patient Phone Number" required>
                </div>

                <div class="input-group">
                    <label for="address">Address</label>
                    <input type="text" id="address" name="address" placeholder="Enter Full Address" required>
                </div>

                <div class="input-group">
                    <label for="consultantName">Consultant Name</label>
                    <select id="consultantName" name="consultantName" required>
                        <option value="Please select">Please Select</option>
                        <option value="Prof. Dr. Md Yeaqub Ali [6981]">Prof. Dr. Md Yeaqub Ali [6981]</option>
                        <option value="Assoc. Prof. Dr. Mahfujul Ahmed Riad [21830]">Assoc. Prof. Dr. Mahfujul Ahmed Riad [21830]</option>
                        <option value="Asst. Prof. Dr. Md Mukitul Huda [21888]">Asst. Prof. Dr. Md Mukitul Huda [21888]</option>
                        <option value="Asst. Prof. Dr. Afroja Begum Tania [22618]">Asst. Prof. Dr. Afroja Begum Tania [22618]</option>
                        <option value="Dr. Rubina Sultana [23646]">Dr. Rubina Sultana [23646]</option>
                        <option value="Dr. Md Shaiful Hassan Shameem [21667]">Dr. Md Shaiful Hassan Shameem [21667]</option>
                        <option value="Dr. Shuvra Debnath [21639]">Dr. Shuvra Debnath [21639]</option>
                        <option value="Dr. Abdullah-Al-Noman Pavel [21685]">Dr. Abdullah-Al-Noman Pavel [21685]</option>
                        <option value="Asst.Prof. Dr. S.M Nazmul Alam [23400]">Dr. S. M Nazmul Alam [23400]</option>
                        <option value="Dr. Abdul Mannan [21727]">Dr. Abdul Mannan [21727]</option>
                        <option value="Dr. Muhammad Masudul Hasan Arup [23500]">Dr. Muhammad Masudul Hasan Arup [23500]</option>
                        <option value="Dr. Tania Sultana [23659]">Dr. Tania Sultana [23659]</option>
                        <option value="Dr. Muhammad Ashraf-Us-Zaman Mahnud [23472]">Dr. Muhammad Ashraf-Us-Zaman Mahnud [23472]</option>
                        <option value="Dr. Mizanur Rahman [22913]">Dr. Mizanur Rahman [22913]</option>
                        <option value="Dr. Saiful Alam [23694]">Dr. Saiful Alam [23694]</option>
                        <option value="Dr. Tasneem Hossain [23693]">Dr. Tasneem Hossain [23693]</option>
                        <option value="Asst. Prof. Dr. Sajib Kumar Talukdhar [23711]">Asst. Prof. Dr. Sajib Kumar Talukdhar [23711]</option>
                        <option value="Dr. Nowshin Taslima Hossain">Dr. Nowshin Taslima Hossain</option>
                        <option value="Dr. Md. Shariful Islam (Johnny) [23687]">Dr. Md. Shariful Islam (Johnny) [23687]</option>
                        <option value="Dr. Sharmin Billah[23814]">Dr. Sharmin Billah[23814]</option>
                        <option value="Dr. Rezwanul Quader [23875]">Dr. Rezwanul Quader [23875]</option>
                        <option value="Dr. Md. Rahmat Ullah [21763]">Dr. Md. Rahmat Ullah [21763]</option>
                        <option value="Dr Md. Saidul Haque [23914]">Dr Md. Saidul Haque [23914]</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="treatmentTechnique">Treatment Technique</label>
                    <select id="treatmentTechnique" name="treatmentTechnique" required>
                        <option value="Please select">Please Select</option>
                        <option value="3DCRT[0104-1]">3DCRT[0104-1]</option>
                        <option value="IMRT[0106-1]">IMRT[0106-1]</option>
                        <option value="VMAT[0110-1]">VMAT[0110-1]</option>
                        <option value="3DCRT-M[0121]">3DCRT-M[0121]</option>
                        <option value="IMRT-M[0122]">IMRT-M[0122]</option>
                        <option value="VMAT-M[0123]">VMAT-M[0123]</option>
                    </select>
                </div>

                <div class="button-group">
                    <button type="button" onclick="generateInfoCard()">Info Card</button>
                    <button type="button" onclick="generateFileLabel()">File Label</button>
                    <button type="button" onclick="generateBagSticker()">Bag Sticker</button>
                </div>
            </form>
           
        <div id="barcodeContainer">
            <canvas id="barcode"></canvas>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
    <script>
        function generateBarcode(patientId) {
            const canvas = document.getElementById('barcode');
            JsBarcode(canvas, patientId, {
                format: "CODE128",
                width: 2,
                height: 50,
                displayValue: true
            });
            return canvas.toDataURL('image/png');
        }

        function generateInfoCard() {
            const { jsPDF } = window.jspdf;

            // Get form values
            const radiationId = document.getElementById("radiationId").value;
            const patientId = document.getElementById("patientId").value;
            const patientName = document.getElementById("patientName").value.toUpperCase();
            const diagnosis = document.getElementById("diagnosis").value;
            const age = document.getElementById("age").value;
            const sex = document.getElementById("sex").value;
            const phone = document.getElementById("phone").value;
            const address = document.getElementById("address").value.toUpperCase();
            const consultantName = document.getElementById("consultantName").value;
            const treatmentTechnique = document.getElementById("treatmentTechnique").value;

            // Create a new jsPDF instance
            const doc = new jsPDF({
                orientation: 'landscape',
                unit: 'in',
                format: [4, 2]
            });

            // Generate barcode
            const barcodeDataUrl = generateBarcode(patientId);

        

            // add Radiation Oncology ID (font: bold, size 12)
            doc.setFontSize(11)
            doc.setFont("Arial", "bold")
            doc.text("Radiation Oncology ID:", 0.1, 0.25);

            doc.setFontSize(15);
            doc.setFont("helvetica", "bold");
            doc.text(radiationId, 1.7, 0.25);

            // Add Patient ID (font: regular, size 10)
            doc.setFontSize(10);
            doc.setFont("arial", "normal");
            doc.text("Patient ID:", 0.1, 0.45);

            doc.setFontSize(11)
            doc.setFont("helvetica", "bold")
            doc.text(patientId, 0.75, 0.45);

            // Add Patient Name (font: bold, size 11)
            doc.setFontSize(10);
            doc.setFont("arial", "normal");
            doc.text("Patient Name:", 0.1, 0.6)

            doc.setFontSize(11)
            doc.setFont("helvetica", "bold")
            doc.text(patientName, 0.95, 0.6);

            // Add Diagnosis (font: regular, size 11)
            doc.setFontSize(10);
            doc.setFont("arial", "normal");
            doc.text("Diagnosis:", 0.1, 0.75)

            doc.setFontSize(11)
            doc.setFont("arial", "normal")
            doc.text(diagnosis, 0.75, 0.75);

            // Add Age, Sex, Phone (font: regular, size 11)
            doc.setFontSize(10)
            doc.setFont("arial", "normal")
            doc.text("Age:", 0.1, 0.9)

            doc.setFontSize(11)
            doc.setFont("arial", "normal")
            doc.text(age + "Yrs", 0.4, 0.9)

            doc.setFontSize(10)
            doc.setFont("arial", "normal")
            doc.text("Gender:", 1.1, 0.9)

            doc.setFontSize(11)
            doc.setFont("arial","normal")
            doc.text(sex, 1.57, 0.9)

            doc.setFontSize(10)
            doc.setFont("arial", "normal")
            doc.text("Phone:", 2.33, 0.9)

            doc.setFontSize(11)
            doc.setFont("arial", "bold")
            doc.text("+88" + phone, 2.74, 0.9)
        
            //Add Address
            doc.setFontSize(10)
            doc.setFont("arial", "normal")
            doc.text("Address:", 0.1, 1.05)

            doc.setFontSize(8)
            doc.setFont("helvetica", "uppercase")
            doc.text(address, 0.6, 1.05)

            // Add Consultant's Name (font: bold, size 11)
            doc.setFontSize(10)
            doc.setFont("arial", "normal")
            doc.text("Consultant Name:", 0.1, 1.20)

            doc.setFontSize(10)
            doc.setFont("arial", "bold")
            doc.text(consultantName, 1.12, 1.20);
           
            // Add Treatment Technique (font: bold, white on black background)
doc.setFillColor(0, 0, 0); // Black fill
doc.rect(2.85, 0.01, 1.2, 0.4, 'F'); // Box for treatment technique
doc.setFont("helvetica", "bold");
doc.setFontSize(12);
doc.setTextColor(255, 255, 255); // White text color



// Split the treatmentTechnique into text and code
const regex = /^(.*?)(\[.*\])$/; // Regex to capture text and code
const matches = treatmentTechnique.match(regex);

let firstLine = treatmentTechnique; // Default to full text if no match
let secondLine = "";

if (matches) {
  firstLine = matches[1].trim(); // Text part (e.g., "3DCRT")
  secondLine = matches[2].trim(); // Code part (e.g., "[0104-1]")
}

// Add the first line (text part) at the specified coordinates
doc.text(firstLine, 3.2, 0.15); // First line at (2.9, 0.15)

// Add the second line (code part) at the specified coordinates
doc.text(secondLine, 3.1, 0.3); // Second line at (2.9, 0.3)


            // Add barcode
            doc.addImage(barcodeDataUrl, 'PNG', 0.9, 1.25, 2.2, 0.75);

            // Open PDF in new tab
            window.open(doc.output('bloburl'));
        }

        function generateFileLabel() {
            const { jsPDF } = window.jspdf;

            // Get form values
            const radiationId = document.getElementById("radiationId").value;
            const patientId = document.getElementById("patientId").value;
            const patientName = document.getElementById("patientName").value;
            const consultantName = document.getElementById("consultantName").value;
            const age = document.getElementById("age").value;
            const address = document.getElementById("address").value

            // Create a new jsPDF instance
            const doc = new jsPDF({
                orientation: 'landscape',
                unit: 'in',
                format: [4, 2]
            });


            // Add Patient Name
            doc.setFontSize(20)
            doc.setFont("helvetica", "bold")
            doc.text(patientName +"/" + age + "Y", 0.15, 0.3)

            // Add Radiation ID
            doc.setFontSize(20)
            doc.setFont("helvetica", "bold")
            doc.text("RT No: " + radiationId, 0.15, 0.58)

            //Add comsultant Name
            doc.setFontSize(15)
            doc.setFont("helvetica", "normal")
            doc.text(consultantName.split('[')[0], 0.15, 0.78)

            //Add Address
            doc.setFontSize(10)
            doc.setFont("helviteca", "normal")
            doc.text("Address: " +address, 0.15, 0.93)
            
            // Add barcode
           

            // Open PDF in new tab
            window.open(doc.output('bloburl'));
        }

        function generateBagSticker() {
            const { jsPDF } = window.jspdf;

            // Get form values
            const radiationId = document.getElementById("radiationId").value;
            const consultantName = document.getElementById("consultantName").value;
            const patientName = document.getElementById("patientName").value.toUpperCase();

            // Create a new jsPDF instance
            const doc = new jsPDF({
                orientation: 'landscape',
                unit: 'in',
                format: [4, 2]
                
            });

        

            // Set font and add content
            doc.setFontSize(25)
            doc.setFont("helvetica", "bold")
            doc.text("RT No: " + radiationId, 0.1, 0.4)
           
            //Add Patient Name
            doc.setFontSize(21)
            doc.setFont("helvetica", "normal")
            doc.text("Name: " +patientName, 0.1, 0.68)

            //Add consultant Name
            doc.setFontSize(16)
            doc.setFont("helvetica", "normal")
            doc.text(consultantName.split('[')[0], 0.1, 0.93)

            //Add Aditional Text
            doc.setFontSize(14)
            doc.setFont("helvetica", "bold")
            doc.text("Department of Radiation Oncology", 0.4, 1.6)

            doc.setFontSize(14)
            doc.setFont("helvetica", "normal")
            doc.text("ENAM MEDICAL COLLEGE & HOSPITAL", 0.2, 1.8)
            



            // Open PDF in new tab
            window.open(doc.output('bloburl'));
        }
    </script>
    
</body>

</html>
